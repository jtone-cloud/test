{"remainingRequest":"E:\\前后端分离项目练习\\02springbootlqyk36m6\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\前后端分离项目练习\\02springbootlqyk36m6\\admin\\src\\components\\index\\TagsView\\ScrollPane.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\前后端分离项目练习\\02springbootlqyk36m6\\admin\\src\\components\\index\\TagsView\\ScrollPane.vue","mtime":1739329220663},{"path":"E:\\前后端分离项目练习\\02springbootlqyk36m6\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1739328752521},{"path":"E:\\前后端分离项目练习\\02springbootlqyk36m6\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1739328754315},{"path":"E:\\前后端分离项目练习\\02springbootlqyk36m6\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1739328752521},{"path":"E:\\前后端分离项目练习\\02springbootlqyk36m6\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1739328754997}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpjb25zdCB0YWdBbmRUYWdTcGFjaW5nID0gNDsgLy8gdGFnQW5kVGFnU3BhY2luZw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJTY3JvbGxQYW5lIiwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgbGVmdDogMCwNCiAgICB9Ow0KICB9LA0KICBjb21wdXRlZDogew0KICAgIHNjcm9sbFdyYXBwZXIoKSB7DQogICAgICByZXR1cm4gdGhpcy4kcmVmcy5zY3JvbGxDb250YWluZXIuJHJlZnMud3JhcDsNCiAgICB9LA0KICB9LA0KICBtZXRob2RzOiB7DQogICAgaGFuZGxlU2Nyb2xsKGUpIHsNCiAgICAgIGNvbnN0IGV2ZW50RGVsdGEgPSBlLndoZWVsRGVsdGEgfHwgLWUuZGVsdGFZICogNDA7DQogICAgICBjb25zdCAkc2Nyb2xsV3JhcHBlciA9IHRoaXMuc2Nyb2xsV3JhcHBlcjsNCiAgICAgICRzY3JvbGxXcmFwcGVyLnNjcm9sbExlZnQgPSAkc2Nyb2xsV3JhcHBlci5zY3JvbGxMZWZ0ICsgZXZlbnREZWx0YSAvIDQ7DQogICAgfSwNCiAgICBtb3ZlVG9UYXJnZXQoY3VycmVudFRhZykgew0KICAgICAgY29uc3QgJGNvbnRhaW5lciA9IHRoaXMuJHJlZnMuc2Nyb2xsQ29udGFpbmVyLiRlbDsNCiAgICAgIGNvbnN0ICRjb250YWluZXJXaWR0aCA9ICRjb250YWluZXIub2Zmc2V0V2lkdGg7DQogICAgICBjb25zdCAkc2Nyb2xsV3JhcHBlciA9IHRoaXMuc2Nyb2xsV3JhcHBlcjsNCiAgICAgIGNvbnN0IHRhZ0xpc3QgPSB0aGlzLiRwYXJlbnQuJHJlZnMudGFnOw0KDQogICAgICBsZXQgZmlyc3RUYWcgPSBudWxsOw0KICAgICAgbGV0IGxhc3RUYWcgPSBudWxsOw0KDQogICAgICAvLyBmaW5kIGZpcnN0IHRhZyBhbmQgbGFzdCB0YWcNCiAgICAgIGlmICh0YWdMaXN0Lmxlbmd0aCA+IDApIHsNCiAgICAgICAgZmlyc3RUYWcgPSB0YWdMaXN0WzBdOw0KICAgICAgICBsYXN0VGFnID0gdGFnTGlzdFt0YWdMaXN0Lmxlbmd0aCAtIDFdOw0KICAgICAgfQ0KDQogICAgICBpZiAoZmlyc3RUYWcgPT09IGN1cnJlbnRUYWcpIHsNCiAgICAgICAgJHNjcm9sbFdyYXBwZXIuc2Nyb2xsTGVmdCA9IDA7DQogICAgICB9IGVsc2UgaWYgKGxhc3RUYWcgPT09IGN1cnJlbnRUYWcpIHsNCiAgICAgICAgJHNjcm9sbFdyYXBwZXIuc2Nyb2xsTGVmdCA9DQogICAgICAgICAgJHNjcm9sbFdyYXBwZXIuc2Nyb2xsV2lkdGggLSAkY29udGFpbmVyV2lkdGg7DQogICAgICB9IGVsc2Ugew0KICAgICAgICAvLyBmaW5kIHByZVRhZyBhbmQgbmV4dFRhZw0KICAgICAgICBjb25zdCBjdXJyZW50SW5kZXggPSB0YWdMaXN0LmZpbmRJbmRleCgoaXRlbSkgPT4gaXRlbSA9PT0gY3VycmVudFRhZyk7DQogICAgICAgIGNvbnN0IHByZXZUYWcgPSB0YWdMaXN0W2N1cnJlbnRJbmRleCAtIDFdOw0KICAgICAgICBjb25zdCBuZXh0VGFnID0gdGFnTGlzdFtjdXJyZW50SW5kZXggKyAxXTsNCg0KICAgICAgICAvLyB0aGUgdGFnJ3Mgb2Zmc2V0TGVmdCBhZnRlciBvZiBuZXh0VGFnDQogICAgICAgIGNvbnN0IGFmdGVyTmV4dFRhZ09mZnNldExlZnQgPQ0KICAgICAgICAgIG5leHRUYWcuJGVsLm9mZnNldExlZnQgKyBuZXh0VGFnLiRlbC5vZmZzZXRXaWR0aCArIHRhZ0FuZFRhZ1NwYWNpbmc7DQoNCiAgICAgICAgLy8gdGhlIHRhZydzIG9mZnNldExlZnQgYmVmb3JlIG9mIHByZXZUYWcNCiAgICAgICAgY29uc3QgYmVmb3JlUHJldlRhZ09mZnNldExlZnQgPQ0KICAgICAgICAgIHByZXZUYWcuJGVsLm9mZnNldExlZnQgLSB0YWdBbmRUYWdTcGFjaW5nOw0KDQogICAgICAgIGlmICgNCiAgICAgICAgICBhZnRlck5leHRUYWdPZmZzZXRMZWZ0ID4NCiAgICAgICAgICAkc2Nyb2xsV3JhcHBlci5zY3JvbGxMZWZ0ICsgJGNvbnRhaW5lcldpZHRoDQogICAgICAgICkgew0KICAgICAgICAgICRzY3JvbGxXcmFwcGVyLnNjcm9sbExlZnQgPSBhZnRlck5leHRUYWdPZmZzZXRMZWZ0IC0gJGNvbnRhaW5lcldpZHRoOw0KICAgICAgICB9IGVsc2UgaWYgKGJlZm9yZVByZXZUYWdPZmZzZXRMZWZ0IDwgJHNjcm9sbFdyYXBwZXIuc2Nyb2xsTGVmdCkgew0KICAgICAgICAgICRzY3JvbGxXcmFwcGVyLnNjcm9sbExlZnQgPSBiZWZvcmVQcmV2VGFnT2Zmc2V0TGVmdDsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["ScrollPane.vue"],"names":[],"mappings":";AAYA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ScrollPane.vue","sourceRoot":"src/components/index/TagsView","sourcesContent":["<template>\r\n  <el-scrollbar\r\n    ref=\"scrollContainer\"\r\n    :vertical=\"false\"\r\n    class=\"scroll-container\"\r\n    @wheel.native.prevent=\"handleScroll\"\r\n  >\r\n    <slot />\r\n  </el-scrollbar>\r\n</template>\r\n\r\n<script>\r\nconst tagAndTagSpacing = 4; // tagAndTagSpacing\r\n\r\nexport default {\r\n  name: \"ScrollPane\",\r\n  data() {\r\n    return {\r\n      left: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    scrollWrapper() {\r\n      return this.$refs.scrollContainer.$refs.wrap;\r\n    },\r\n  },\r\n  methods: {\r\n    handleScroll(e) {\r\n      const eventDelta = e.wheelDelta || -e.deltaY * 40;\r\n      const $scrollWrapper = this.scrollWrapper;\r\n      $scrollWrapper.scrollLeft = $scrollWrapper.scrollLeft + eventDelta / 4;\r\n    },\r\n    moveToTarget(currentTag) {\r\n      const $container = this.$refs.scrollContainer.$el;\r\n      const $containerWidth = $container.offsetWidth;\r\n      const $scrollWrapper = this.scrollWrapper;\r\n      const tagList = this.$parent.$refs.tag;\r\n\r\n      let firstTag = null;\r\n      let lastTag = null;\r\n\r\n      // find first tag and last tag\r\n      if (tagList.length > 0) {\r\n        firstTag = tagList[0];\r\n        lastTag = tagList[tagList.length - 1];\r\n      }\r\n\r\n      if (firstTag === currentTag) {\r\n        $scrollWrapper.scrollLeft = 0;\r\n      } else if (lastTag === currentTag) {\r\n        $scrollWrapper.scrollLeft =\r\n          $scrollWrapper.scrollWidth - $containerWidth;\r\n      } else {\r\n        // find preTag and nextTag\r\n        const currentIndex = tagList.findIndex((item) => item === currentTag);\r\n        const prevTag = tagList[currentIndex - 1];\r\n        const nextTag = tagList[currentIndex + 1];\r\n\r\n        // the tag's offsetLeft after of nextTag\r\n        const afterNextTagOffsetLeft =\r\n          nextTag.$el.offsetLeft + nextTag.$el.offsetWidth + tagAndTagSpacing;\r\n\r\n        // the tag's offsetLeft before of prevTag\r\n        const beforePrevTagOffsetLeft =\r\n          prevTag.$el.offsetLeft - tagAndTagSpacing;\r\n\r\n        if (\r\n          afterNextTagOffsetLeft >\r\n          $scrollWrapper.scrollLeft + $containerWidth\r\n        ) {\r\n          $scrollWrapper.scrollLeft = afterNextTagOffsetLeft - $containerWidth;\r\n        } else if (beforePrevTagOffsetLeft < $scrollWrapper.scrollLeft) {\r\n          $scrollWrapper.scrollLeft = beforePrevTagOffsetLeft;\r\n        }\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.scroll-container {\r\n  white-space: nowrap;\r\n  position: relative;\r\n  overflow: hidden;\r\n  width: 100%;\r\n  ::v-deep {\r\n    .el-scrollbar__bar {\r\n      bottom: 0px;\r\n    }\r\n    .el-scrollbar__wrap {\r\n      height: 49px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}